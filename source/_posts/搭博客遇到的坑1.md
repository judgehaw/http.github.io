---
title: 搭博客遇到的坑1
date: 2018-10-13 23:34:21
tags: 博客
categories: "博客搭建"
---

------

## 环境准备

> * 安装nodeJS
> * 安装git
> * 安装hexo

## 需要的链接

------
<!-- more -->

### [nodeJS]： https://nodejs.org/en/
### [Git bash]：https://git-for-windows.github.io/

## 检查环境
鼠标右击打开Git bash，输入
 - `node -v` （查看node版本，确保node安装成功）
 - `git version` （查看git）
 （基本都是傻瓜式的安装）

> 安装好上面两种之后，接下来进行最繁琐的一件事

> * **安装hexo**

------

## 鼠标桌面右击打开Git bash

### 安装
  > cd 进入自己想要安装hexo的路径，创建一个文件夹名为blog，并cd进入
  
  Git bash内输入安装
 - `npm install -g hexo` (install 可以简写成‘i’)

等待一会
 - `hexo -v` （查看hexo是否安装成功）

------

### 初始化hexo
 - 输入`hexo init`
 完成后会发现自己的安装路径下会多几个文件夹
 - node_modules：是依赖包
 - public：存放的是生成的页面
 - scaffolds：命令生成文章等的模板
 - source：用命令创建的各种文章
 - themes：主题
 - _config.yml：整个博客的配置
 - db.json：source解析所得到的
 - package.json：项目所需模块项目的配置信息

------

### 搭桥到GitHub

> 先创建一个账号
  创建好后，点开右上角创建一个库，设置库名为`yourname.github.io`，并保存.
 
 
 
 >  回到gitbash中，配置github账户信息,"yourname"和"youremail"替换为你自己的用户名和邮箱名
  
  - git config --global user.name "yourname"
  - git config --global user.email "youremail"
  
-----

### 配置GitHub密钥

 > - `ssh-keygen` 连续按几次回车后，进入 `cd /root/.ssh/`目录，会看到有一个以`.pub`结尾的文件，查看`cat id_rsa.pub`
 > - 全部复制其中的内容，放在GitHub中
 
 
 
 > 可以删除掉原来的keys，创建一个新的key，title里面随便写一个key名，key里粘贴刚才复制的内容。
 
 - 验证key：`ssh -T git@github.com`
 > 没有报错就说明成功了
 
------

### 配置hexo，使其跟自己的GitHub连接。

  **打开安装目录下的_config.yml文件，在最后面添加**
> deploy:
 &#160;&#160;&#160;type: git
 &#160;&#160;&#160;repository: &#160;&#160;&#160;git@github.com:judgehaw/judgehaw.github.io.git
 &#160;&#160;&#160;branch: master

**在文件中查找url，将后面的url改为`http://yourname/yourname.github.io`,配置文件中写的内容“：”后面一定要有空格，上面deploy下面的3行也要有空格。**

回到Git bash，先安装一个插件，使得自己的博客能被别人看到
 &#160;&#160;&#160;`npm install hexo-deployer-git --save`
> 然后执行命令
`hexo clean` (清空hexo缓存)
`hexo s -g` （生成静态文件并能在本地浏览）

------

### 本地访问
> 本地浏览器url输入`localhost:4000`

页面应该可以看得到了，是hexo的默认页面

------

### 绑定个人域名

> 如果没有自己的域名的话。可以去阿里云或者腾讯云买一个，一年一般50RMB左右，并且要实名认证，还要配置DNS服务器哦。
> 在自己的域名管理界面选择解析，添加记录，主机记录选@或www，记录类型选择CNAME，记录值写`yourname.github.io`，然后点保存。



>Git bash中键入`hexo d -g` (上传GitHub)
>这时候用自己的域名访问就会看到博客页面了

------

### hexo主题

## 主题是有很多的，可以在hexo网站上面查看并下载
[Hexo主题][1]
[Next主题使用文档][2]
[Hexo配置][3]


  [1]: https://hexo.io/themes/
  [2]: http://theme-next.iissnan.com/
  [3]: https://hexo.io/zh-cn/docs/configuration.html